{"version":3,"file":"gallery.js","sources":["../src/createGallery.js","../src/gallery.js"],"sourcesContent":["const createElement = (tag, properties) => Object.assign(document.createElement(tag), properties);\n\nconst createGalleryImage = ({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => {\n   const newHyperLink = createElement(\"a\", {className: \"gallery-link\",\n                                            href: largeImageURL});\n\n   const newImage = createElement(\"img\", {className: \"gallery-image\",\n                                          src: webformatURL,\n                                          alt: tags});\n\n   const descDiv = createElement(\"div\", {className: \"desc-box\"});\n   descDiv.innerHTML =  '<div class=\"inner-desc-box\" >' +\n                        '<h4 class=\"gallery-headline\">Likes</h4> ' + \n                        `<p class=\"gallery-desc\">${likes}</p></div>` +\n\n                        '<div class=\"inner-desc-box\" >' +\n                        '<h4 class=\"gallery-headline\">Views</h4> ' + \n                        `<p class=\"gallery-desc\">${views}</p></div>` +\n\n                        '<div class=\"inner-desc-box\" >' +\n                        '<h4 class=\"gallery-headline\">Comments</h4> ' + \n                        `<p class=\"gallery-desc\">${comments}</p></div>` +\n\n                        '<div class=\"inner-desc-box\" >' +\n                        '<h4 class=\"gallery-headline\">Downloads</h4> ' + \n                        `<p class=\"gallery-desc\">${downloads}</p></div>`\n\n   newHyperLink.append(newImage);\n   newHyperLink.append(descDiv);\n   return newHyperLink;\n};\n\nexport const createListItem = (images, gallery) => {\n   const list = images.map(createGalleryImage)\n                      .map(image => {\n                               const li = createElement(\"li\");\n                               li.append(image);\n                               return li;\n                      }); \n\n   const fragment = document.createDocumentFragment();\n   fragment.append(...list);\n\n   gallery.appendChild(fragment);\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { createListItem } from \"./createGallery\";   \n\n// Constants\nconst searchInput = document.getElementById('searchImages');\nconst searchButton = document.getElementById('searchBtn');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\n// PixaBay properties\nconst key = \"46332612-74f33d1ba9ca951ac6c22d341\";\nconst image_type = \"photo\";\nconst orientation = \"horizontal\";\nconst safesearch = \"true\";\n\nsearchButton.addEventListener('click', () => {\n    loader.style.display = \"block\";\n    gallery.style.display = \"none\"\n    let URL = \"https://pixabay.com/api/?key=\"+key\n          +\"&q=\"+encodeURIComponent(`${searchInput.value}`)\n          +\"&image_type=\"+image_type\n          +\"&orientation=\"+orientation\n          +\"&safesearch=\"+safesearch;\n\n    const options = {\n        method: \"GET\"\n    };\n    \n    fetch(URL, options)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n    })\n      .then(data => {\n        if (data.total == 0) {\n            loader.style.display = \"none\";\n            iziToast.error({message: `Sorry, there are no images matching your search query. Please try again!`});\n            return;\n        }\n\n        loader.style.display = \"none\";\n        gallery.innerHTML = \"\";\n        createListItem(data.hits, gallery);\n        gallery.style.display = \"flex\";\n        const lightBox = new SimpleLightbox(\"ul.gallery a\", {\n            captionType: \"attr\",\n            captionsData: \"alt\",\n            sourceAttr: \"href\",\n            overlay: true,\n            overlayOpacity: 1,\n        });\n        lightBox.refresh();\n    })\n      .catch(error => {\n        console.log(error);\n    });\n});\n"],"names":["createElement","tag","properties","createGalleryImage","webformatURL","largeImageURL","tags","likes","views","comments","downloads","newHyperLink","newImage","descDiv","createListItem","images","gallery","list","image","li","fragment","searchInput","searchButton","loader","key","image_type","orientation","safesearch","URL","response","data","iziToast","SimpleLightbox","error"],"mappings":"2FAAA,MAAMA,EAAgB,CAACC,EAAKC,IAAe,OAAO,OAAO,SAAS,cAAcD,CAAG,EAAGC,CAAU,EAE1FC,EAAqB,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM,CACpG,MAAMC,EAAeX,EAAc,IAAK,CAAC,UAAW,eACX,KAAMK,CAAa,CAAC,EAEvDO,EAAWZ,EAAc,MAAO,CAAC,UAAW,gBACX,IAAKI,EACL,IAAKE,CAAI,CAAC,EAE3CO,EAAUb,EAAc,MAAO,CAAC,UAAW,UAAU,CAAC,EAC5D,OAAAa,EAAQ,UAAa,gGAE2BN,CAAK,0GAILC,CAAK,6GAILC,CAAQ,8GAIRC,CAAS,aAEzDC,EAAa,OAAOC,CAAQ,EAC5BD,EAAa,OAAOE,CAAO,EACpBF,CACV,EAEaG,EAAiB,CAACC,EAAQC,IAAY,CAChD,MAAMC,EAAOF,EAAO,IAAIZ,CAAkB,EACtB,IAAIe,GAAS,CACL,MAAMC,EAAKnB,EAAc,IAAI,EAC7B,OAAAmB,EAAG,OAAOD,CAAK,EACRC,CACtC,CAAuB,EAEdC,EAAW,SAAS,yBAC1BA,EAAS,OAAO,GAAGH,CAAI,EAEvBD,EAAQ,YAAYI,CAAQ,CAC/B,ECrCMC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAe,SAAS,eAAe,WAAW,EAClDN,EAAU,SAAS,cAAc,UAAU,EAC3CO,EAAS,SAAS,cAAc,SAAS,EAGzCC,EAAM,qCACNC,EAAa,QACbC,EAAc,aACdC,EAAa,OAEnBL,EAAa,iBAAiB,QAAS,IAAM,CACzCC,EAAO,MAAM,QAAU,QACvBP,EAAQ,MAAM,QAAU,OACxB,IAAIY,EAAM,gCAAgCJ,EACnC,MAAM,mBAAmB,GAAGH,EAAY,KAAK,EAAE,EAC/C,eAAeI,EACf,gBAAgBC,EAChB,eAAeC,EAMtB,MAAMC,EAJU,CACZ,OAAQ,KAChB,CAEsB,EACf,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAK,EACE,KAAKC,GAAQ,CACZ,GAAIA,EAAK,OAAS,EAAG,CACjBP,EAAO,MAAM,QAAU,OACvBQ,EAAS,MAAM,CAAC,QAAS,0EAA0E,CAAC,EACpG,MACH,CAEDR,EAAO,MAAM,QAAU,OACvBP,EAAQ,UAAY,GACpBF,EAAegB,EAAK,KAAMd,CAAO,EACjCA,EAAQ,MAAM,QAAU,OACP,IAAIgB,EAAe,eAAgB,CAChD,YAAa,OACb,aAAc,MACd,WAAY,OACZ,QAAS,GACT,eAAgB,CAC5B,CAAS,EACQ,QAAO,CACxB,CAAK,EACE,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAK,CACL,CAAC"}